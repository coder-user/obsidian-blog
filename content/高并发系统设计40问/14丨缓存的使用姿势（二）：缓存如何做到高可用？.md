用缓存承担大部分的读压力，从而缓解数据库的查询压力，在提升性能的同时保证系统的稳定性。

![[14丨缓存的使用姿势（二）：缓存如何做到高可用？_image_1.png]]
Web 层和数据库层之间增加了缓存层，请求会首先查询缓存，只有当缓存中没有需要的数据时才会查询数据库。

> [!important] 缓存命中率

关注**缓存命中率**这个指标（缓存命中率 = 命中缓存的请求数 / 总请求数）

> [!bug] 通常的指标

一般来说，在你的电商系统中，核心缓存的命中率需要维持在 99% 甚至是 99.9%，哪怕下降 1%，系统都会遭受毁灭性的打击。

## 分布式缓存的高可用方案

> [!question] 如何提升缓存的可用性呢？

分布式缓存的高可用方案。

在项目中，主要选择的方案有**客户端方案**、**中间代理层方案**和**服务端方案**三大类：

- **客户端方案**：在客户端配置多个缓存的节点，通过缓存写入和读取算法策略来实现分布式，从而提高缓存的可用性。
- **中间代理层方案**：在应用代码和缓存节点之间增加代理层，客户端所有的写入和读取的请求都通过代理层，而代理层中会内置高可用策略，帮助提升缓存系统的高可用。
- **服务端方案**： Redis 2.4 版本后提出的 Redis Sentinel 方案。

掌握这些方案可以帮助你，抵御部分缓存节点故障导致的，缓存命中率下降的影响，增强你的系统的鲁棒性。

## 客户端方案

## 中间代理层方案

## 服务端方案
