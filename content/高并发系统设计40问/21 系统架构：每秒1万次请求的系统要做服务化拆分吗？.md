---
tags:
  - 高并发
---

# 21 系统架构：每秒 1 万次请求的系统要做服务化拆分吗？

## 一体化架构的痛点

> [!question] 一体化架构的优点？

- 开发简单直接，代码和项目集中式管理
- 只需要维护一个工程，节省维护系统运行的人力成本
- 排查问题的时候，只需要排查这个应用进程就可以了，目标性强

但随着功能越来越复杂，开发团队规模越来越大，你慢慢感受到了一体化架构的一些缺陷：

> [!question] 一体化架构的一些缺陷？

- 首先，在技术层面上，数据库连接数可能成为系统的瓶颈
- 第二点，一体化架构增加了研发的成本（主要体现沟通成本），抑制了研发效率的提升
- 第三点，一体化架构对于系统的运维也会有很大的影响

## 如何使用微服务化解决这些痛点

- 通过按照业务做横向拆分的方式，解决了数据库层面的扩展性问题。
- 我们可以将与业务无关的公用服务抽取出来，下沉成单独的服务。

## 总结

对系统做微服务化拆分，其实，系统的 QPS 并不是决定性的因素。**影响的因素**，我归纳为以下几点：

- 系统中，使用的资源出现扩展性问题，尤其是数据库的连接数出现瓶颈
- 大团队共同维护一套代码，带来研发效率的降低，和研发成本的提升
- 系统部署成本越来越高

**从中你应该有所感悟**：在架构演进的初期和中期，性能、可用性、可扩展性是我们追求的主要目标，高性能和高可用给用户带来更好的使用体验，扩展性可以方便我们支撑更大量级的并发。但是当系统做的越来越大，团队成员越来越多，我们就不得不考虑成本了
