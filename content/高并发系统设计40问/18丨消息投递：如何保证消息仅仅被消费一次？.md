---
date: '2022-09-19T23:15:45+08:00'
	lastmod: '2022-09-19T23:20:29+08:00'
lastmod: '2022-09-19T23:29:17+08:00'
---

> [!important] 消息队列

1. 对峰值写流量做削峰填谷
2. 对次要的业务逻辑做异步处理
3. 对不同的系统模块做解耦合

> [!question] 如何保证，产生的消息一定会被消费到，并且只被消费一次呢？

## 1 消息为什么会丢失

![[18丨消息投递：如何保证消息仅仅被消费一次？_image_1.png]]

- 消息从生产者写入到消息队列的过程。
- 消息在消息队列中的存储场景。
- 消息被消费者消费的过程。

### 1.1 在消息生产的过程中丢失消息

